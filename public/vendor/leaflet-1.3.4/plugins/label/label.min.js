var LeafletLabel=L.Class.extend({includes:L.Mixin.Events,options:{className:"",clickable:!1,direction:"right",noHide:!1,offset:[12,-15],opacity:1,zoomAnimation:!0},initialize:function(a,b){L.setOptions(this,a);this._source=b;this._animated=L.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._pane=this.options.pane?a._panes[this.options.pane]:this._source instanceof L.Marker?a._panes.markerPane:a._panes.popupPane;this._container||this._initLayout();this._pane.appendChild(this._container);
this._initInteraction();this._update();this.setOpacity(this.options.opacity);a.on("moveend",this._onMoveEnd,this).on("viewreset",this._onViewReset,this);if(this._animated)a.on("zoomanim",this._zoomAnimation,this);L.Browser.touch&&!this.options.noHide&&(L.DomEvent.on(this._container,"click",this.close,this),a.on("click",this.close,this))},onRemove:function(a){this._pane.removeChild(this._container);a.off({zoomanim:this._zoomAnimation,moveend:this._onMoveEnd,viewreset:this._onViewReset},this);this._removeInteraction();
this._map=null},setLatLng:function(a){this._latlng=L.latLng(a);this._map&&this._updatePosition();return this},setContent:function(a){this._previousContent=this._content;this._content=a;this._updateContent();return this},close:function(){var a=this._map;a&&(L.Browser.touch&&!this.options.noHide&&(L.DomEvent.off(this._container,"click",this.close),a.off("click",this.close,this)),a.removeLayer(this))},updateZIndex:function(a){this._zIndex=a;this._container&&this._zIndex&&(this._container.style.zIndex=
a)},setOpacity:function(a){this.options.opacity=a;this._container&&L.DomUtil.setOpacity(this._container,a)},_initLayout:function(){this._container=L.DomUtil.create("div","leaflet-label "+this.options.className+" leaflet-zoom-animated");this.updateZIndex(this._zIndex)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updatePosition(),this._container.style.visibility="")},_updateContent:function(){this._content&&this._map&&this._prevContent!==this._content&&
"string"===typeof this._content&&(this._prevContent=this._container.innerHTML=this._content,this._labelWidth=this._container.offsetWidth)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},_setPosition:function(a){var b=this._map,c=this._container,f=b.latLngToContainerPoint(b.getCenter()),b=b.layerPointToContainerPoint(a),e=this.options.direction,g=this._labelWidth,d=L.point(this.options.offset);"right"===e||"auto"===e&&b.x<f.x?(L.DomUtil.addClass(c,
"leaflet-label-right"),L.DomUtil.removeClass(c,"leaflet-label-left"),a=a.add(d)):(L.DomUtil.addClass(c,"leaflet-label-left"),L.DomUtil.removeClass(c,"leaflet-label-right"),a=a.add(L.point(-d.x-g,d.y)));L.DomUtil.setPosition(c,a)},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPosition(a)},_onMoveEnd:function(){this._animated&&"auto"!==this.options.direction||this._updatePosition()},_onViewReset:function(a){a&&a.hard&&this._update()},_initInteraction:function(){if(this.options.clickable){var a=
this._container,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.addClass(a,"leaflet-clickable");L.DomEvent.on(a,"click",this._onMouseClick,this);for(var c=0;c<b.length;c++)L.DomEvent.on(a,b[c],this._fireMouseEvent,this)}},_removeInteraction:function(){if(this.options.clickable){var a=this._container,b=["dblclick","mousedown","mouseover","mouseout","contextmenu"];L.DomUtil.removeClass(a,"leaflet-clickable");L.DomEvent.off(a,"click",this._onMouseClick,this);for(var c=0;c<b.length;c++)L.DomEvent.off(a,
b[c],this._fireMouseEvent,this)}},_onMouseClick:function(a){this.hasEventListeners(a.type)&&L.DomEvent.stopPropagation(a);this.fire(a.type,{originalEvent:a})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&L.DomEvent.preventDefault(a);"mousedown"!==a.type?L.DomEvent.stopPropagation(a):L.DomEvent.preventDefault(a)}});
