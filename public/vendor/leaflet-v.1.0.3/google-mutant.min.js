var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var c=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}};c.prototype.createResolveAndReject_=function(){function a(a){return function(f){c||(c=!0,a.call(b,f))}}var b=this,c=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};c.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.settleSameAsPromise_(a);else{var b;a:switch(typeof a){case "object":b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};c.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(g){this.reject_(g);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};c.prototype.reject_=function(a){this.settle_(2,a)};c.prototype.fulfill_=function(a){this.settle_(1,a)};c.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),
a[b]=null;this.onSettledCallbacks_=null}};var e=new b;c.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};c.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(k){c.reject(k)}};c.prototype.then=function(a,b){function d(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(l){e(l)}}:b}var f,e,h=new c(function(a,b){f=a;e=b});this.callWhenSettled_(d(a,f),
d(b,e));return h};c.prototype["catch"]=function(a){return this.then(void 0,a)};c.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?e.asyncExecute(c):this.onSettledCallbacks_.push(function(){e.asyncExecute(c)})};c.resolve=function(a){return a instanceof c?a:new c(function(b,c){b(a)})};c.reject=function(a){return new c(function(b,c){c(a)})};
c.race=function(a){return new c(function(b,d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c.resolve(f.value).callWhenSettled_(b,d)})};c.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c.resolve([]):new c(function(a,e){function f(b){return function(c){h[b]=c;g--;0==g&&a(h)}}var h=[],g=0;do h.push(void 0),g++,c.resolve(d.value).callWhenSettled_(f(h.length-1),e),d=b.next();while(!d.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(c.$jscomp$new$AsyncExecutor=function(){return new b});
return c},"es6-impl","es3");
L.GridLayer.GoogleMutant=L.GridLayer.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(a){L.GridLayer.prototype.initialize.call(this,a);this._GAPIPromise=(this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map)?Promise.resolve(window.google):new Promise(function(a,d){var b=0,e=null,e=setInterval(function(){if(10<=b)return clearInterval(e),
d(Error("window.google not found after 10 attempts"));if(window.google&&window.google.maps&&window.google.maps.Map)return clearInterval(e),a(window.google);b++},500)});this._tileCallbacks={};this._freshTiles={};this._imagesPerTile="hybrid"===this.options.type?2:1;this.createTile="hybrid"===this.options.type?this._createMultiTile:this._createSingleTile},onAdd:function(a){L.GridLayer.prototype.onAdd.call(this,a);this._initMutantContainer();this._GAPIPromise.then(function(){this._ready=!0;this._map=
a;this._initMutant();a.on("viewreset",this._reset,this);a.on("move",this._update,this);a.on("zoomend",this._handleZoomAnim,this);a.on("resize",this._resize,this);a._controlCorners.bottomright.style.marginBottom="20px";this._reset();this._update()}.bind(this))},onRemove:function(a){L.GridLayer.prototype.onRemove.call(this,a);a._container.removeChild(this._mutantContainer);this._mutantContainer=void 0;a.off("viewreset",this._reset,this);a.off("move",this._update,this);a.off("zoomend",this._handleZoomAnim,
this);a.off("resize",this._resize,this);a._controlCorners.bottomright.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(a){this.options.opacity=a;1>a&&L.DomUtil.setOpacity(this._mutantContainer,a)},setElementSize:function(a,b){a.style.width=b.x+"px";a.style.height=b.y+"px"},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id=
"_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer));this.setOpacity(this.options.opacity);this.setElementSize(this._mutantContainer,this._map.getSize());this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var a=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,
tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=a;this.fire("spawned",{mapObject:a})}},_attachObserver:function(a){(new MutationObserver(this._onMutations.bind(this))).observe(a,{childList:!0,subtree:!0})},_onMutations:function(a){for(var b=0;b<a.length;++b)for(var d=a[b],c=0;c<d.addedNodes.length;++c){var e=d.addedNodes[c];
e instanceof HTMLImageElement?this._onMutatedImage(e):e instanceof HTMLElement&&Array.prototype.forEach.call(e.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(a){var b,d=a.src.match(this._roadRegexp);d?(b={z:d[1],x:d[2],y:d[3]},1<this._imagesPerTile&&(a.style.zIndex=1),d=1):((d=a.src.match(this._satRegexp))&&(b={x:d[1],y:d[2],z:d[3]}),d=0);
if(b)if(b=this._tileCoordsToKey(b),a.style.position="absolute",1<this._imagesPerTile&&(b+="/"+d),b in this._tileCallbacks&&this._tileCallbacks[b])this._tileCallbacks[b].pop()(a),this._tileCallbacks[b].length||delete this._tileCallbacks[b];else{if(d=a.parentNode)d.removeChild(a),d.removeChild=L.Util.falseFn;b in this._freshTiles?this._freshTiles[b].push(a):this._freshTiles[b]=[a]}else a.src.match(this._staticRegExp)&&(d=a.parentNode)&&a.parentNode.replaceChild(L.DomUtil.create("img"),a)},_createSingleTile:function(a,
b){var d=this._tileCoordsToKey(a);if(d in this._freshTiles){var c=this._freshTiles[d].pop();this._freshTiles[d].length||delete this._freshTiles[d];L.Util.requestAnimFrame(b);return c}c=L.DomUtil.create("div");this._tileCallbacks[d]=this._tileCallbacks[d]||[];this._tileCallbacks[d].push(function(a){return function(c){var d=c.parentNode;d&&(d.removeChild(c),d.removeChild=L.Util.falseFn);a.appendChild(c);b()}.bind(this)}.call(this,c));return c},_createMultiTile:function(a,b){var d=this._tileCoordsToKey(a),
c=L.DomUtil.create("div");c.dataset.pending=this._imagesPerTile;for(var e=0;e<this._imagesPerTile;e++){var f=d+"/"+e;f in this._freshTiles?(c.appendChild(this._freshTiles[f].pop()),this._freshTiles[f].length||delete this._freshTiles[f],c.dataset.pending--):(this._tileCallbacks[f]=this._tileCallbacks[f]||[],this._tileCallbacks[f].push(function(a){return function(c){var d=c.parentNode;d&&(d.removeChild(c),d.removeChild=L.Util.falseFn);a.appendChild(c);a.dataset.pending--;parseInt(a.dataset.pending)||
b()}.bind(this)}.call(this,c)))}parseInt(c.dataset.pending)||L.Util.requestAnimFrame(b);return c},_checkZoomLevels:function(){void 0!==this._map.getZoom()&&this._mutant.getZoom()!==this._map.getZoom()&&this._map.setZoom(this._mutant.getZoom())},_reset:function(){this._initContainer()},_update:function(){L.GridLayer.prototype._update.call(this);if(this._mutant){var a=this._map.getCenter(),a=new google.maps.LatLng(a.lat,a.lng);this._mutant.setCenter(a);void 0!==this._map.getZoom()&&this._mutant.setZoom(Math.round(this._map.getZoom()))}},
_resize:function(){var a=this._map.getSize();if(this._mutantContainer.style.width!==a.x||this._mutantContainer.style.height!==a.y)this.setElementSize(this._mutantContainer,a),this._mutant&&google.maps.event.trigger(this._mutant,"resize")},_handleZoomAnim:function(){var a=this._map.getCenter(),a=new google.maps.LatLng(a.lat,a.lng);this._mutant.setCenter(a);this._mutant.setZoom(Math.round(this._map.getZoom()))},_removeTile:function(a){if(1<this._imagesPerTile)for(var b=0;b<this._imagesPerTile;b++){var d=
a+"/"+b;d in this._freshTiles&&delete this._freshTiles[d]}else a in this._freshTiles&&delete this._freshTiles[a];return L.GridLayer.prototype._removeTile.call(this,a)}});L.gridLayer.googleMutant=function(a){return new L.GridLayer.GoogleMutant(a)};
